<%function langFromExt(ext){%>
    <!-- in the future will use file .extensions -->
    <%return ext;%>
<%}%>
<form id="passage_form_<%=passage._id%>"class="passage_form"action="/update_passage/" type="post"enctype="multipart/form-data">
    <input value="<%=passage._id%>"name="_id"type="hidden">
    <input id="passage_title_<%=passage._id%>"class="passage_title" value="<%=passage.title%>" type="text"name="title"placeholder="Title">
    <!-- Default .RTF -->
    <%if(passage.ext !== 'rtf'){%>
        <input id="passage_ext_<%=passage._id%>"class="passage_ext" value="<%=passage.ext%>" type="text"name="ext"placeholder=".ext">
    <%}%>
    <div class="passage_description" id="passage_content_<%=passage._id%>" cols="30" rows="10" placeholder="Content"></div>
    <input id="quill-data-<%=passage._id%>"value="<%=passage.content%>"name="content"type="hidden">
    <%switch(passage.ext){%>
        <%case 'mixed':%>
        <textarea style="display:none;"class="passage_html" name="html" id="passage_html_<%=passage._id%>" cols="30" rows="10" placeholder="HTML"><%=passage.html%></textarea>
        <textarea style="display:none;"class="passage_css" name="css" id="passage_css_<%=passage._id%>" cols="30" rows="10" placeholder="CSS"><%=passage.css%></textarea>
        <textarea style="display:none;"class="passage_js" name="js" id="passage_js_<%=passage._id%>" cols="30" rows="10" placeholder="Javascript"><%=passage.javascript%></textarea>
        <code-input lang="HTML"class="code_display display_html" id="display_html_<%=passage._id%>" placeholder="HTML"value="<%=passage.html || 'HTML'%>"></code-input>
        <code-input lang="CSS"class="code_display display_css" id="display_css_<%=passage._id%>" placeholder="CSS"value="<%=passage.css || 'CSS'%>"></code-input>
        <code-input lang="javascript"class="code_display display_js" id="display_js_<%=passage._id%>" placeholder="Javascript"value="<%=passage.javascript || 'Javascript'%>"></code-input>
        <%break;%>
        <%default:%>
        <code-input lang="<%=langFromExt(passage.ext)%>"class="code_display display_ext" id="display_ext_<%=passage._id%>" placeholder="<%=langFromExt(passage.ext)%>"value="<%=passage.code || langFromExt(passage.ext)%>"></code-input>
    <%}%>
    <!-- for case default -->
    <textarea style="display:none;"class="passage_code" name="code" id="passage_code_<%=passage._id%>" cols="30" rows="10" placeholder="<%=langFromExt(passage.ext)%>"><%=passage.code%></textarea>
    <!-- /default -->
    <input id="passage_file_<%=passage._id%>"class="passage_file" name="file" type="file" autocomplete="off" />
    <div style="display:none;"id="passage_thumbnail_<%=passage._id%>">
        <img id="thumbnail_image_<%=passage._id%>"src="" alt="">
        <input id="thumbnail_clip_<%=passage._id%>"type="hidden" name="thumbnail">
    </div>
    <div id="passage_advanced_<%=passage._id%>"class="passage_advanced">
        <%if(passage.ext === 'rtf'){%>
            <input id="passage_ext_<%=passage._id%>"class="passage_ext" value="<%=passage.ext%>" type="text"name="ext"placeholder=".ext">
            <%}%>
            <textarea style="display:none;"class="passage_license" name="license" id="passage_license_<%=passage._id%>" cols="30" rows="10" placeholder="LICENSE">All modules submitted to CES must first comply with the terms and agreements. You are allowed to utilize this work through citations on christianengineeringsolutions.com.&#13;&#10;<%=passage.license%></textarea>
    </div>
    <ul class="passage_tabs">
        <li id="passage_executable_<%=passage._id%>"class="passage_tab passage_tab_open_advanced view_code">Advanced</li>
    </ul>
    <br>
</form>
